{"ast":null,"code":"var _jsxFileName = \"/Users/radhika.bajaj/Documents/GitHub/Knowledge-Graph-Frontend/src/components/ForceGraphGenerator.js\",\n  _s = $RefreshSig$();\nimport * as d3 from \"d3\";\nimport styles from \"../components/ForceGraph.css\";\nimport \"@fortawesome/fontawesome-free/css/all.min.css\";\nimport { useEffect, useRef } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const RunForceGraph = (linksData, nodesData, graph) => {\n  _s();\n  const d3Container = useRef(null);\n  useEffect(() => {\n    // const links = linksData.map((d) => Object.assign({}, d));\n    // const nodes = nodesData.map((d) => Object.assign({}, d));\n    const links = graph.links;\n    const nodes = graph.nodes;\n\n    // var parentDiv = document.getElementById(\"parentDiv\");\n    const height = 1200;\n    const width = 1200;\n    const color = () => {\n      return \"#9D79A0\";\n    };\n    const drag = simulation => {\n      const dragstarted = d => {\n        if (!d3.event.active) simulation.alphaTarget(0.3).restart();\n        d.fx = d.x;\n        d.fy = d.y;\n      };\n      const dragged = d => {\n        d.fx = d3.event.x;\n        d.fy = d3.event.y;\n      };\n      const dragended = d => {\n        if (!d3.event.active) simulation.alphaTarget(0);\n        d.fx = null;\n        d.fy = null;\n      };\n      return d3.drag().on(\"start\", dragstarted).on(\"drag\", dragged).on(\"end\", dragended);\n    };\n    const simulation = d3.forceSimulation(nodes).force(\"link\", d3.forceLink(links).id(d => d.id).distance(100)).force(\"charge\", d3.forceManyBody().strength(-600)).force(\"collide\", d3.forceCollide().strength(1).radius(30).iterations(1)).force(\"x\", d3.forceX()).force(\"y\", d3.forceY());\n    const svg = d3.select(d3Container.current).append(\"svg\").attr(\"viewBox\", [-width / 2, -height / 2, width, height]).call(d3.zoom().on(\"zoom\", function () {\n      svg.attr(\"transform\", d3.event.transform);\n    }));\n    const updateLink = svg.append(\"g\").attr(\"stroke\", \"#999\").attr(\"stroke-opacity\", 0.6).selectAll(\"line\").data(links).enter().join(\"line\").attr(\"stroke-width\", d => Math.sqrt(d.value));\n    const updateNode = svg.append(\"g\").attr(\"stroke\", \"#fff\").attr(\"stroke-width\", 2).selectAll(\"circle\").data(nodes).enter().join(\"circle\").attr(\"r\", 24).attr(\"fill\", color).call(drag(simulation));\n    const updateLabel = svg.append(\"g\").attr(\"class\", \"labels\").selectAll(\"text\").data(nodes).enter().append(\"text\").attr('text-anchor', 'middle').attr('dominant-baseline', 'central').text(d => {\n      return d.id;\n    }).call(drag(simulation));\n\n    // label.on(\"mouseover\", (d) => {\n    //   addTooltip(nodeHoverTooltip, d, d3.event.pageX, d3.event.pageY);\n    // })\n    //   .on(\"mouseout\", () => {\n    //     removeTooltip();\n    //   });\n\n    simulation.on(\"tick\", () => {\n      // update link positions\n      updateLink.attr(\"x1\", d => d.source.x).attr(\"y1\", d => d.source.y).attr(\"x2\", d => d.target.x).attr(\"y2\", d => d.target.y);\n\n      // update node positions\n      updateNode.attr(\"cx\", d => d.x).attr(\"cy\", d => d.y);\n\n      // update label positions\n      updateLabel.attr(\"x\", d => {\n        return d.x;\n      }).attr(\"y\", d => {\n        return d.y;\n      });\n    });\n    updateLabel.exit().remove();\n    updateNode.exit().remove();\n    updateLabel.exit().remove();\n  }, []);\n  return (\n    /*#__PURE__*/\n    // destroy: () => {\n    //   simulation.stop();\n    // },\n    // nodes: () => {\n    //   return svg.node();\n    // }\n    _jsxDEV(\"svg\", {\n      className: \"d3-component\",\n      ref: d3Container\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 5\n    }, this)\n  );\n};\n_s(RunForceGraph, \"W4i3Ntv1V7JhLIB1f9IS/+wu8BI=\");\n_c = RunForceGraph;\nexport default RunForceGraph;\nvar _c;\n$RefreshReg$(_c, \"RunForceGraph\");","map":{"version":3,"names":["d3","styles","useEffect","useRef","jsxDEV","_jsxDEV","RunForceGraph","linksData","nodesData","graph","_s","d3Container","links","nodes","height","width","color","drag","simulation","dragstarted","d","event","active","alphaTarget","restart","fx","x","fy","y","dragged","dragended","on","forceSimulation","force","forceLink","id","distance","forceManyBody","strength","forceCollide","radius","iterations","forceX","forceY","svg","select","current","append","attr","call","zoom","transform","updateLink","selectAll","data","enter","join","Math","sqrt","value","updateNode","updateLabel","text","source","target","exit","remove","className","ref","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/radhika.bajaj/Documents/GitHub/Knowledge-Graph-Frontend/src/components/ForceGraphGenerator.js"],"sourcesContent":["\nimport * as d3 from \"d3\";\nimport styles from \"../components/ForceGraph.css\";\nimport \"@fortawesome/fontawesome-free/css/all.min.css\";\nimport { useEffect, useRef } from \"react\";\n\nexport const RunForceGraph = ( linksData, nodesData, graph ) => { \n  const d3Container = useRef(null);\n  useEffect(() => { \n    // const links = linksData.map((d) => Object.assign({}, d));\n    // const nodes = nodesData.map((d) => Object.assign({}, d));\n    const links = graph.links;\n    const nodes = graph.nodes;\n\n    \n    // var parentDiv = document.getElementById(\"parentDiv\");\n    const height = 1200;\n    const width = 1200;\n\n    const color = () => { return \"#9D79A0\"; };\n\n    const drag = (simulation) => {\n      const dragstarted = (d) => {\n        if (!d3.event.active) simulation.alphaTarget(0.3).restart();\n        d.fx = d.x;\n        d.fy = d.y;\n      };\n\n      const dragged = (d) => {\n        d.fx = d3.event.x;\n        d.fy = d3.event.y;\n      };\n\n      const dragended = (d) => {\n        if (!d3.event.active) simulation.alphaTarget(0);\n        d.fx = null;\n        d.fy = null;\n      };\n\n      return d3\n        .drag()\n        .on(\"start\", dragstarted)\n        .on(\"drag\", dragged)\n        .on(\"end\", dragended);\n    };\n    \n    const simulation = d3\n      .forceSimulation(nodes)\n      .force(\"link\", d3.forceLink(links).id(d => d.id).distance(100))\n      .force(\"charge\", d3.forceManyBody().strength(-600))\n      .force(\"collide\", d3.forceCollide().strength(1).radius(30).iterations(1))\n      .force(\"x\", d3.forceX())\n      .force(\"y\", d3.forceY());\n    const svg = d3\n      .select(d3Container.current)\n      .append(\"svg\")\n      .attr(\"viewBox\", [-width / 2, -height / 2, width, height])\n      .call(d3.zoom().on(\"zoom\", function () {\n        svg.attr(\"transform\", d3.event.transform);\n    }));\n\n    \n    const updateLink = svg\n      .append(\"g\")\n      .attr(\"stroke\", \"#999\")\n      .attr(\"stroke-opacity\", 0.6)\n      .selectAll(\"line\")\n      .data(links)\n      .enter()\n      .join(\"line\")\n      .attr(\"stroke-width\", d => Math.sqrt(d.value));\n\n    const updateNode = svg\n      .append(\"g\")\n      .attr(\"stroke\", \"#fff\")\n      .attr(\"stroke-width\", 2)\n      .selectAll(\"circle\")\n      .data(nodes)\n      .enter()\n      .join(\"circle\")\n      .attr(\"r\", 24)\n      .attr(\"fill\", color)\n      .call(drag(simulation));\n\n    const updateLabel = svg.append(\"g\")\n      .attr(\"class\", \"labels\")\n      .selectAll(\"text\")\n      .data(nodes)\n      .enter()\n      .append(\"text\")\n      .attr('text-anchor', 'middle')\n      .attr('dominant-baseline', 'central')\n      .text(d => {return d.id;})\n      .call(drag(simulation));\n\n    // label.on(\"mouseover\", (d) => {\n    //   addTooltip(nodeHoverTooltip, d, d3.event.pageX, d3.event.pageY);\n    // })\n    //   .on(\"mouseout\", () => {\n    //     removeTooltip();\n    //   });\n\n    simulation.on(\"tick\", () => {\n\n      // update link positions\n      updateLink\n        .attr(\"x1\", d => d.source.x)\n        .attr(\"y1\", d => d.source.y)\n        .attr(\"x2\", d => d.target.x)\n        .attr(\"y2\", d => d.target.y);\n\n      // update node positions\n      updateNode\n        .attr(\"cx\", d => d.x)\n        .attr(\"cy\", d => d.y);\n\n      // update label positions\n      updateLabel\n        .attr(\"x\", d => { return d.x; })\n        .attr(\"y\", d => { return d.y; })\n    });\n\n    updateLabel.exit().remove();\n    updateNode.exit().remove();\n    updateLabel.exit().remove();\n  }, [])\n  return (\n    // destroy: () => {\n    //   simulation.stop();\n    // },\n    // nodes: () => {\n    //   return svg.node();\n    // }\n    <svg className=\"d3-component\" ref={d3Container}/>\n    \n  );\n}\n\nexport default RunForceGraph;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}