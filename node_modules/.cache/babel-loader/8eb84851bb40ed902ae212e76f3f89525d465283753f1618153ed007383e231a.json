{"ast":null,"code":"var _jsxFileName = \"/Users/radhika.bajaj/Documents/GitHub/Knowledge-Graph-Frontend/src/components/ForceGraphGenerator.js\",\n  _s = $RefreshSig$();\nimport * as d3 from \"d3\";\nimport styles from \"../components/ForceGraph.css\";\nimport \"@fortawesome/fontawesome-free/css/all.min.css\";\nimport { useEffect, useRef } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const RunForceGraph = ({\n  graph\n}, parentRef) => {\n  _s();\n  const d3Container = useRef(null);\n  const width = 120;\n  const height = 120;\n  useEffect(() => {\n    if (graph.graph.links && graph.graph.nodes) {\n      const links = graph.graph.links.map(d => Object.assign({}, d));\n      const nodes = graph.graph.nodes.map(d => Object.assign({}, d));\n\n      // var parentDiv = document.getElementById(\"parentDiv\");\n\n      const color = () => {\n        return \"#9D79A0\";\n      };\n      const drag = simulation => {\n        const dragstarted = d => {\n          if (!d3.event.active) simulation.alphaTarget(0.3).restart();\n          d.fx = d.x;\n          d.fy = d.y;\n        };\n        const dragged = d => {\n          d.fx = d3.event.x;\n          d.fy = d3.event.y;\n        };\n        const dragended = d => {\n          if (!d3.event.active) simulation.alphaTarget(0);\n          d.fx = null;\n          d.fy = null;\n        };\n        return d3.drag().on(\"start\", dragstarted).on(\"drag\", dragged).on(\"end\", dragended);\n      };\n      const simulation = d3.forceSimulation(nodes).force(\"link\", d3.forceLink(links).id(d => d.id).distance(100)).force(\"charge\", d3.forceManyBody().strength(-600)).force(\"collide\", d3.forceCollide().strength(1).radius(30).iterations(1)).force(\"x\", d3.forceX()).force(\"y\", d3.forceY());\n      simulation.on(\"tick\", () => {\n        // update link positions\n        updateLink.attr(\"x1\", d => d.source.x).attr(\"y1\", d => d.source.y).attr(\"x2\", d => d.target.x).attr(\"y2\", d => d.target.y);\n\n        // update node positions\n        updateNode.attr(\"cx\", d => d.x).attr(\"cy\", d => d.y);\n\n        // update label positions\n        updateLabel.attr(\"x\", d => {\n          return d.x;\n        }).attr(\"y\", d => {\n          return d.y;\n        });\n      });\n      const svg = d3.select(d3Container.current).attr(\"viewBox\", [-width / 2, -height / 2, width, height]).call(d3.zoom().on(\"zoom\", function () {\n        svg.attr(\"transform\", d3.event.transform);\n      }));\n      const updateLink = svg.append(\"g\").selectAll(\"line\").data(links);\n      updateLink.enter().append(\"line\").attr(\"stroke\", \"#999\").attr(\"stroke-opacity\", 0.6).attr(\"stroke-width\", d => Math.sqrt(d.value));\n      const updateNode = svg.append(\"g\").selectAll(\"circle\").data(nodes);\n      updateNode.enter().append(\"circle\").attr(\"stroke\", \"#fff\").attr(\"stroke-width\", 2).attr(\"r\", 24).attr(\"fill\", color).call(drag(simulation));\n      const updateLabel = svg.append(\"g\").selectAll(\"text\").data(nodes);\n      updateLabel.enter().append(\"text\").attr(\"class\", \"labels\").attr('text-anchor', 'middle').attr('dominant-baseline', 'central').text(d => {\n        return d.id;\n      }).call(drag(simulation));\n\n      // label.on(\"mouseover\", (d) => {\n      //   addTooltip(nodeHoverTooltip, d, d3.event.pageX, d3.event.pageY);\n      // })\n      //   .on(\"mouseout\", () => {\n      //     removeTooltip();\n      //   });\n\n      updateLink.exit().remove();\n      updateNode.exit().remove();\n      updateLabel.exit().remove();\n    }\n  }, [graph, d3Container.current]);\n  return (\n    /*#__PURE__*/\n    // destroy: () => {\n    //   simulation.stop();\n    // },\n    // nodes: () => {\n    //   return svg.node();\n    // }\n    _jsxDEV(\"svg\", {\n      width: width,\n      height: height,\n      ref: d3Container\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 5\n    }, this)\n  );\n};\n_s(RunForceGraph, \"W4i3Ntv1V7JhLIB1f9IS/+wu8BI=\");\n_c = RunForceGraph;\nexport default RunForceGraph;\nvar _c;\n$RefreshReg$(_c, \"RunForceGraph\");","map":{"version":3,"names":["d3","styles","useEffect","useRef","jsxDEV","_jsxDEV","RunForceGraph","graph","parentRef","_s","d3Container","width","height","links","nodes","map","d","Object","assign","color","drag","simulation","dragstarted","event","active","alphaTarget","restart","fx","x","fy","y","dragged","dragended","on","forceSimulation","force","forceLink","id","distance","forceManyBody","strength","forceCollide","radius","iterations","forceX","forceY","updateLink","attr","source","target","updateNode","updateLabel","svg","select","current","call","zoom","transform","append","selectAll","data","enter","Math","sqrt","value","text","exit","remove","ref","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/radhika.bajaj/Documents/GitHub/Knowledge-Graph-Frontend/src/components/ForceGraphGenerator.js"],"sourcesContent":["\nimport * as d3 from \"d3\";\nimport styles from \"../components/ForceGraph.css\";\nimport \"@fortawesome/fontawesome-free/css/all.min.css\";\nimport { useEffect, useRef } from \"react\";\n\nexport const RunForceGraph = ( {graph}, parentRef ) => { \n  const d3Container = useRef(null);\n\n  const width = 120;\n  const height = 120;\n\n  useEffect(() => { \n    \n    if (graph.graph.links && graph.graph.nodes) {\n\n\n      const links = graph.graph.links.map((d) => Object.assign({}, d));\n      const nodes = graph.graph.nodes.map((d) => Object.assign({}, d));\n\n      \n      // var parentDiv = document.getElementById(\"parentDiv\");\n      \n\n      const color = () => { return \"#9D79A0\"; };\n\n      const drag = (simulation) => {\n        const dragstarted = (d) => {\n          if (!d3.event.active) simulation.alphaTarget(0.3).restart();\n          d.fx = d.x;\n          d.fy = d.y;\n        };\n\n        const dragged = (d) => {\n          d.fx = d3.event.x;\n          d.fy = d3.event.y;\n        };\n\n        const dragended = (d) => {\n          if (!d3.event.active) simulation.alphaTarget(0);\n          d.fx = null;\n          d.fy = null;\n        };\n\n        return d3\n          .drag()\n          .on(\"start\", dragstarted)\n          .on(\"drag\", dragged)\n          .on(\"end\", dragended);\n      };\n      \n      const simulation = d3\n        .forceSimulation(nodes)\n        .force(\"link\", d3.forceLink(links).id(d => d.id).distance(100))\n        .force(\"charge\", d3.forceManyBody().strength(-600))\n        .force(\"collide\", d3.forceCollide().strength(1).radius(30).iterations(1))\n        .force(\"x\", d3.forceX())\n        .force(\"y\", d3.forceY());\n\n        simulation.on(\"tick\", () => {\n\n          // update link positions\n          updateLink\n            .attr(\"x1\", d => d.source.x)\n            .attr(\"y1\", d => d.source.y)\n            .attr(\"x2\", d => d.target.x)\n            .attr(\"y2\", d => d.target.y);\n  \n          // update node positions\n          updateNode\n            .attr(\"cx\", d => d.x)\n            .attr(\"cy\", d => d.y);\n  \n          // update label positions\n          updateLabel\n            .attr(\"x\", d => { return d.x; })\n            .attr(\"y\", d => { return d.y; })\n        });\n        \n      const svg = d3\n        .select(d3Container.current)\n        .attr(\"viewBox\", [-width / 2, -height / 2, width, height])\n        .call(d3.zoom().on(\"zoom\", function () {\n          svg.attr(\"transform\", d3.event.transform);\n      }));\n\n      const updateLink = svg\n        .append(\"g\")\n        .selectAll(\"line\")\n        .data(links);\n      \n      updateLink.enter()\n        .append(\"line\")\n        .attr(\"stroke\", \"#999\")\n        .attr(\"stroke-opacity\", 0.6)\n        .attr(\"stroke-width\", d => Math.sqrt(d.value));\n\n      const updateNode = svg\n        .append(\"g\")\n        .selectAll(\"circle\")\n        .data(nodes);\n\n      updateNode.enter()\n        .append(\"circle\")\n        .attr(\"stroke\", \"#fff\")\n        .attr(\"stroke-width\", 2)\n        .attr(\"r\", 24)\n        .attr(\"fill\", color)\n        .call(drag(simulation));\n\n      const updateLabel = svg\n        .append(\"g\")\n        .selectAll(\"text\")\n        .data(nodes);\n\n      updateLabel\n        .enter()\n        .append(\"text\")\n        .attr(\"class\", \"labels\")\n        .attr('text-anchor', 'middle')\n        .attr('dominant-baseline', 'central')\n        .text(d => {return d.id;})\n        .call(drag(simulation));\n\n      // label.on(\"mouseover\", (d) => {\n      //   addTooltip(nodeHoverTooltip, d, d3.event.pageX, d3.event.pageY);\n      // })\n      //   .on(\"mouseout\", () => {\n      //     removeTooltip();\n      //   });\n\n      \n\n      updateLink.exit().remove();\n      updateNode.exit().remove();\n      updateLabel.exit().remove();\n    }\n  }, [graph, d3Container.current])\n\n  return (\n    // destroy: () => {\n    //   simulation.stop();\n    // },\n    // nodes: () => {\n    //   return svg.node();\n    // }\n    <svg width={width} height={height} ref={d3Container}/>\n    \n  );\n}\n\nexport default RunForceGraph;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}