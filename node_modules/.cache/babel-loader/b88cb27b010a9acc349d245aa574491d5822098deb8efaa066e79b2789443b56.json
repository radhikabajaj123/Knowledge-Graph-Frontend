{"ast":null,"code":"var _jsxFileName = \"/Users/radhika.bajaj/Documents/GitHub/Knowledge-Graph-Frontend/src/components/NetworkDiagram.js\",\n  _s = $RefreshSig$();\nimport * as d3 from 'd3';\nimport { useEffect, useRef } from 'react';\nimport DrawNetwork from './DrawNetwork';\nimport { TransformWrapper, TransformComponent } from \"react-zoom-pan-pinch\";\nimport useDimensions from './useDimensions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const NetworkDiagram = ({\n  graph\n}) => {\n  _s();\n  // The force simulation mutates links and nodes, so create a copy first\n  // Node positions are initialized by d3\n  const RADIUS = 40;\n  const links = graph.links.map(d => ({\n    ...d\n  }));\n  const nodes = graph.nodes.map(d => ({\n    ...d\n  }));\n  const canvasRef = useRef(null);\n  const divRef = useRef(null);\n  const {\n    height,\n    width\n  } = useDimensions(divRef);\n  useEffect(() => {\n    // set dimension of the canvas element\n    const canvas = canvasRef.current;\n    const context = canvas === null || canvas === void 0 ? void 0 : canvas.getContext('2d');\n    if (!context) {\n      return;\n    }\n\n    // run d3-force to find the position of nodes on the canvas\n    d3.forceSimulation(nodes)\n\n    // list of forces we apply to get node positions\n    .force('link', d3.forceLink(links).id(d => d.id)).force('collide', d3.forceCollide().radius(RADIUS)).force('charge', d3.forceManyBody()).force('center', d3.forceCenter(width / 2, height / 2))\n\n    // at each iteration of the simulation, draw the network diagram with the new node positions\n    .on('tick', () => {\n      DrawNetwork(context, width, height, nodes, links, RADIUS);\n    });\n  }, [width, height, nodes, links]);\n  return /*#__PURE__*/_jsxDEV(TransformWrapper, {\n    children: /*#__PURE__*/_jsxDEV(TransformComponent, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n          ref: canvasRef,\n          style: {\n            width: width,\n            height: height,\n            backgroundColor: \"#F2F1F1\"\n          },\n          width: width,\n          height: height\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n};\n_s(NetworkDiagram, \"QT3knDl8VDhs4lR6KUTdx0WzxwU=\", false, function () {\n  return [useDimensions];\n});\n_c = NetworkDiagram;\nvar _c;\n$RefreshReg$(_c, \"NetworkDiagram\");","map":{"version":3,"names":["d3","useEffect","useRef","DrawNetwork","TransformWrapper","TransformComponent","useDimensions","jsxDEV","_jsxDEV","NetworkDiagram","graph","_s","RADIUS","links","map","d","nodes","canvasRef","divRef","height","width","canvas","current","context","getContext","forceSimulation","force","forceLink","id","forceCollide","radius","forceManyBody","forceCenter","on","children","ref","style","backgroundColor","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/radhika.bajaj/Documents/GitHub/Knowledge-Graph-Frontend/src/components/NetworkDiagram.js"],"sourcesContent":["import * as d3 from 'd3';\nimport { useEffect, useRef } from 'react';\nimport DrawNetwork from './DrawNetwork';\nimport { TransformWrapper, TransformComponent } from \"react-zoom-pan-pinch\";\nimport useDimensions from './useDimensions';\n\nexport const NetworkDiagram = ({graph}) => {\n  // The force simulation mutates links and nodes, so create a copy first\n  // Node positions are initialized by d3\n  const RADIUS = 40;\n  const links = graph.links.map((d) => ({ ...d }));\n  const nodes = graph.nodes.map((d) => ({ ...d }));\n\n\n\n  const canvasRef = useRef(null);\n  const divRef = useRef(null);\n  const { height, width} = useDimensions(divRef);\n  \n\n  useEffect(() => {\n    // set dimension of the canvas element\n    const canvas = canvasRef.current;\n    const context = canvas?.getContext('2d');\n\n    if (!context) {\n      return;\n    }\n\n    // run d3-force to find the position of nodes on the canvas\n    d3.forceSimulation(nodes)\n\n      // list of forces we apply to get node positions\n      .force(\n        'link',\n        d3.forceLink(links).id((d) => d.id)\n      )\n      .force('collide', d3.forceCollide().radius(RADIUS))\n      .force('charge', d3.forceManyBody())\n      .force('center', d3.forceCenter(width / 2, height / 2))\n\n      // at each iteration of the simulation, draw the network diagram with the new node positions\n      .on('tick', () => {\n        DrawNetwork(context, width, height, nodes, links, RADIUS);\n      });\n  }, [width, height, nodes, links]);\n\n    \n    return (\n        <TransformWrapper>\n            <TransformComponent>\n                <div>\n                <canvas\n                    ref={canvasRef}\n                    style={{\n                    width: width,\n                    height: height,\n                    backgroundColor: \"#F2F1F1\"\n                    }}\n                    width={width}\n                    height={height}\n                />\n                </div>\n            </TransformComponent>\n        </TransformWrapper>\n        \n    );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}